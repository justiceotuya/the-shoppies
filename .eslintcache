[{"/Users/justiceotuya/Documents/shopify/the-shoppies/src/index.tsx":"1","/Users/justiceotuya/Documents/shopify/the-shoppies/src/reportWebVitals.ts":"2","/Users/justiceotuya/Documents/shopify/the-shoppies/src/App.tsx":"3","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/index.ts":"4","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/index.ts":"5","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/Button.tsx":"6","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/Button.style.tsx":"7","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/index.ts":"8","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/Search.tsx":"9","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/Search.style.tsx":"10","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/index.ts":"11","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/MovieCard.tsx":"12","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/MovieCard.style.ts":"13","/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/index.ts":"14","/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/home/Home.tsx":"15","/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/home/Home.style.ts":"16","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/layout/index.ts":"17","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/layout/Layout.tsx":"18","/Users/justiceotuya/Documents/shopify/the-shoppies/src/utils.ts":"19"},{"size":500,"mtime":1610603619076,"results":"20","hashOfConfig":"21"},{"size":425,"mtime":1610548313639,"results":"22","hashOfConfig":"21"},{"size":189,"mtime":1610640738649,"results":"23","hashOfConfig":"21"},{"size":140,"mtime":1610620676747,"results":"24","hashOfConfig":"21"},{"size":58,"mtime":1610573549960,"results":"25","hashOfConfig":"21"},{"size":611,"mtime":1610626428734,"results":"26","hashOfConfig":"21"},{"size":588,"mtime":1610600083702,"results":"27","hashOfConfig":"21"},{"size":57,"mtime":1610601431545,"results":"28","hashOfConfig":"21"},{"size":1239,"mtime":1610651640521,"results":"29","hashOfConfig":"21"},{"size":907,"mtime":1610645391768,"results":"30","hashOfConfig":"21"},{"size":66,"mtime":1610620656581,"results":"31","hashOfConfig":"21"},{"size":1296,"mtime":1610649227612,"results":"32","hashOfConfig":"21"},{"size":1105,"mtime":1610645566725,"results":"33","hashOfConfig":"21"},{"size":50,"mtime":1610626693543,"results":"34","hashOfConfig":"21"},{"size":4761,"mtime":1610655824870,"results":"35","hashOfConfig":"21"},{"size":372,"mtime":1610647843470,"results":"36","hashOfConfig":"21"},{"size":57,"mtime":1610627488460,"results":"37","hashOfConfig":"21"},{"size":373,"mtime":1610630223499,"results":"38","hashOfConfig":"21"},{"size":635,"mtime":1610638758121,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"gll9rk",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"/Users/justiceotuya/Documents/shopify/the-shoppies/src/index.tsx",[],["84","85"],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/reportWebVitals.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/App.tsx",["86"],"import React from 'react';\nimport './App.css';\nimport { Home } from './pages';\nimport { debounce } from './utils';\n\nfunction App() {\n\n  return (\n    <Home    />\n  );\n}\n\nexport default App;\n","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/Button.tsx",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/button/Button.style.tsx",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/Search.tsx",["87"],"import React from 'react'\nimport { debounce } from '../../utils'\nimport { SearchIcon, StyledForm } from './Search.style'\n\nexport interface ISearchProps {\n    // onSubmit: (event:React.FormEvent<HTMLInputElement>, data: string|undefined) => void\n    getData:(data:string|undefined)=>void\n\n}\nexport const Search:React.FC<ISearchProps & React.HTMLProps<HTMLInputElement>> = ({\n    onSubmit,getData, ...props\n}) => {\n\n    const [inputValue, setInputValue] = React.useState('')\n    const handleChange = (e:any) => {\n        getData(e.target.value)\n        setInputValue(e.target.value)\n    }\n//     const handleSubmit = (e:any, data:string| undefined) => {\n//         e.preventDefault()\n// console.log({data})\n//     }\n\n    return (\n        <StyledForm\n    //   onSubmit={(e:any) => onSubmit(e, inputRef?.current?.value)}\n        // onSubmit={()=>onSubmit}\n        getData={getData}\n        >\n            <SearchIcon/>\n            <input\n            type=\"text\"\n            value={inputValue}\n            onChange={handleChange}\n            className=\"searchInput\"\n            placeholder=\"Search Movies\"\n            />\n\n <h1 className=\"searchResult\">{inputValue    && `Search result for ${inputValue}`}</h1>\n            </StyledForm>\n\n    )\n}\n","/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/search/Search.style.tsx",[],["88","89"],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/MovieCard.tsx",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/movie-card/MovieCard.style.ts",["90"],"import styled from 'styled-components';\n// import {ISearchProps} from './Search'\nimport {ReactComponent as Search} from '../../assets/icons/search.svg'\nexport const StyledMovieCard = styled.div`\n\nbox-shadow: 0 5px 10px rgba(154,160,185,.05), 0 15px 40px rgba(166,173,201,.2);\n    border-radius: 10px;\n    cursor: pointer;\n    :hover {\n        box-shadow:  0 25px 50px -12px rgba(0,0,0,0.25);\n    }\n.card_imageContainer{\n    position: relative;\n    height: 75%;\n}\n.card_movie {\n    width: 100%;\n    height: 100%;\n    border-radius: 10px 10px 0 0;\n}\n.card_rating {\n    position: absolute;\n    bottom: 30px;\n    right: -10px;\n    background-color: #F7B500;\n    padding: 2px 10px;\n    border-radius: 30px;\n    font-weight: bold;\n}\n.card_detailsContainer{\n    height: 25%;\n    padding: 10px;\n}\n.card_movie__title{\n    color: #545664;\n    font-size: 14px;\n    font-weight: 600;\n}\n.card_movie__year{\n    color: #7e808c;\nfont-size: 12px;\n}\n.card_movie__genre{}\n`;\n\n// export const SearchIcon = styled(Search)`\n// position: absolute;\n//     z-index: 3;\n//     left: 20px;\n//     transform: translateY(-6px);\n\n// `\n","/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/home/Home.tsx",["91","92","93","94","95","96","97","98"],"import React,{useEffect, useState} from 'react'\nimport { Button, MovieCard, Search } from '../../components'\nimport Layout from '../../components/layout'\nimport { debounce } from '../../utils'\nimport { StyledHome } from './Home.style'\ninterface IMoviesObjs {\n    Poster: string\n    Title: string\n    Type: string\n    Year: string\n    imdbID: string\n}\n\ninterface IMoviesProps {\n    movies: IMoviesObjs[];\n}\n\nexport const Home = () => {\n\n    const [searchText, setSearchText] = useState<string |undefined>('')\n    const [movies, setMovies] = React.useState<Array<IMoviesObjs>>([])\nconst [loading, setLoading] = useState<boolean>(false)\nconst [error, setError] = useState<null | string>(null)\nconst [isFetching, setIsFetching] = useState<boolean>(false);\nconst [pagination, setPagination] = useState({\n    currentPage: 1,\n                totalResultsCount: 0,\n                totalPage: 0\n})\n\n\n\n    const handleSubmit = (e:any) => {\n        e.preventDefault()\n        console.log(e.target[0].value)\n    }\n\n\n\n    const getData = (data:string|undefined) => {\nsetSearchText(data)\nsetMovies([])\nsetPagination({\n    ...pagination,\n    currentPage: 1,\n                totalResultsCount: 0,\n                totalPage: 0\n})\n}\n\nuseEffect(() => {\n    // currentPage: 1,\n    // totalResultsCount: 0,\n    // totalPage: 0\nconst {currentPage,totalResultsCount,totalPage} = pagination\n//current page -1 is equal to totalpage and totalpage is not zero STOP\nif((currentPage - 1 === totalPage )&& totalPage !== 0 || searchText === \"\"){\n    return\n}else {\n\n    handleFetchData()\n}\n    //   debounce(handleFetchData, 3000)()\n}, [searchText, !!isFetching])\n\nuseEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\nconst handleScroll = () => {\n    if (window.innerHeight + document.documentElement.scrollTop  !== document.documentElement.offsetHeight ) return;\n    console.log('scrolled')\n    setIsFetching(true)\n//    if(pagination.currentPage !== pagination.totalPage) handleFetchData()\n}\n\n\n\nconst handleGetTotalPage = (value:number) => {\n        if(value % 10 === 0){\n            return value / 10\n        }else {\n          return Math.floor(value / 10) + 1\n        }\n}\n\nconst handleFetchData = async (more?:boolean) => {\n//    more === false && () => (\n//     setMovies([])\n//     setLoading(true)\n//     setError(null)\n//    )\n    try {\n      const request =  await fetch(`https://www.omdbapi.com/?s=${searchText}&type=movie&page=${pagination.currentPage}&apikey=da4d5e4e`)\n      const response = await request.json()\n      if(response.Response === 'True'){\n          setMovies([...movies, ...response.Search])\n          console.log()\n          setPagination({\n              ...pagination,\n              currentPage: pagination.currentPage + 1,\n              totalResultsCount: response.totalResults,\n              totalPage: handleGetTotalPage(response.totalResults)\n          })\n          setError(null)\n        }else {\n            setMovies([])\n            setPagination({\n                ...pagination,\n                currentPage: 1,\n                totalResultsCount: 0,\n                totalPage: 0\n            })\n          setError(response.Error)\n      }\n      setLoading(false)\n    setIsFetching(false)\n    } catch (error) {\n        setMovies([])\n        setPagination({\n            ...pagination,\n            currentPage: 1,\n            totalResultsCount: 0,\n            totalPage: 0\n        })\n        setLoading(false)\n    setIsFetching(false)\n      setError(error.message)\nconsole.log(error.message)\n    }\n    }\n\n    return (\n        <Layout>\n        <StyledHome>\n\n<Search\nonSubmit={handleSubmit}\ngetData={debounce(getData,1000)}\n/>\n\n{/* <h1>Search result for '{searchText}'</h1> */}\n\n<div className=\"movies_container\">\n    {\n        loading && <div className=\"fullPage\">\n        <h1> Loading Data ...</h1>\n        </div>\n    }\n    {\n        error && <div className=\"fullPage\">\n        <h1> Error: {error}</h1>\n        <p>Please retry searching</p>\n        </div>\n    }\n    {\n       (!loading && movies?.length === 0) && <div className=\"fullPage\">\n            <h1> No Movies, Search for movie to nominate your favourite</h1>\n            </div>\n    }\n{\n ( movies && movies?.length > 0) && movies.map(item =>{\n      const {\n        Poster,\n        Title,\n        Type,\n        Year,\n        imdbID,\n      } = item\n  return (\n<MovieCard\nkey={imdbID}\nmovieRating=\"8.0\"\nmovieTitle={Title}\nmovieYear={Year}\nmovieGenre=\"Action, Thriller, Animation\"\nmovieImage={Poster}\n/>\n  )})\n}\n  </div>\n        </StyledHome>\n{\n    isFetching && (pagination.currentPage - 1 !== pagination.totalPage) && <p style={{textAlign: 'center'}}> Fetching more Movies ...</p>\n}\n        </Layout>\n    )\n}\n","/Users/justiceotuya/Documents/shopify/the-shoppies/src/pages/home/Home.style.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/layout/index.ts",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/components/layout/Layout.tsx",[],"/Users/justiceotuya/Documents/shopify/the-shoppies/src/utils.ts",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":4,"column":10,"nodeType":"105","messageId":"106","endLine":4,"endColumn":18},{"ruleId":"103","severity":1,"message":"104","line":2,"column":10,"nodeType":"105","messageId":"106","endLine":2,"endColumn":18},{"ruleId":"99","replacedBy":"107"},{"ruleId":"101","replacedBy":"108"},{"ruleId":"103","severity":1,"message":"109","line":3,"column":27,"nodeType":"105","messageId":"106","endLine":3,"endColumn":33},{"ruleId":"103","severity":1,"message":"110","line":2,"column":10,"nodeType":"105","messageId":"106","endLine":2,"endColumn":16},{"ruleId":"103","severity":1,"message":"111","line":14,"column":11,"nodeType":"105","messageId":"106","endLine":14,"endColumn":23},{"ruleId":"103","severity":1,"message":"112","line":55,"column":20,"nodeType":"105","messageId":"106","endLine":55,"endColumn":37},{"ruleId":"113","severity":1,"message":"114","line":57,"column":36,"nodeType":"115","messageId":"116","endLine":57,"endColumn":38},{"ruleId":"113","severity":1,"message":"114","line":57,"column":55,"nodeType":"115","messageId":"116","endLine":57,"endColumn":57},{"ruleId":"117","severity":1,"message":"118","line":64,"column":4,"nodeType":"119","endLine":64,"endColumn":30,"suggestions":"120"},{"ruleId":"117","severity":1,"message":"121","line":64,"column":17,"nodeType":"122","endLine":64,"endColumn":29},{"ruleId":"103","severity":1,"message":"123","line":167,"column":9,"nodeType":"105","messageId":"106","endLine":167,"endColumn":13},"no-native-reassign",["124"],"no-negated-in-lhs",["125"],"@typescript-eslint/no-unused-vars","'debounce' is defined but never used.","Identifier","unusedVar",["124"],["125"],"'Search' is defined but never used.","'Button' is defined but never used.","'IMoviesProps' is defined but never used.","'totalResultsCount' is assigned a value but never used.","no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'handleFetchData' and 'pagination'. Either include them or remove the dependency array.","ArrayExpression",["126"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","UnaryExpression","'Type' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},"Update the dependencies array to be: [handleFetchData, pagination, searchText]",{"range":"129","text":"130"},[1605,1631],"[handleFetchData, pagination, searchText]"]